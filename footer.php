    <div class="container">
        <section class="pre-footer">
            <div class="row gx-0">
                <div class="col-md-4">
                    <div class="pre-footer__card">
                        <div>
                            <img src="<?php echo wp_upload_dir()['baseurl'] . '/2024/04/logo-banner-yl-1.png'; ?>" alt="" class="card-img">
                        </div>
                        <div>
                            <h4>Las mejores marcas</h4>
                        </div>
                    </div>
                    <div class="pre-footer__linea"></div>
                </div>
                <div class="col-md-4">
                    <div class="pre-footer__card">
                        <div>
                            <img src="<?php echo wp_upload_dir()['baseurl'] . '/2024/04/logo-banner-yl-2.png'; ?>" alt="" class="card-img">
                        </div>
                        <div>
                            <h4>Los mejores precios</h4>
                        </div>
                    </div>
                    <div class="pre-footer__linea"></div>
                </div>
                <div class="col-md-4">
                    <div class="pre-footer__card">
                        <div>
                            <img src="<?php echo wp_upload_dir()['baseurl'] . '/2024/04/logo-banner-yl-3.png'; ?>" alt="" class="card-img">
                        </div>
                        <div>
                            <h4>El mejor servicio</h4>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer class="site-footer">
        <div class="container">
            <div class="site-footer__content">
                <div class="row">
                    <div class="col-md-3">
                        <a href="#" class="site-footer__logo--liquimax"><img src="<?= get_template_directory_uri() ?>/assets/img/logo-new.png" alt="Liquimax"></a>
                    </div>
                    <div class="col-md-2">
                        <div class="site-footer__nav">
                            <nav>
                                <ul class="list-links-footer">
                                    <li><a href="<?= home_url(); ?>">Inicio</a></li>
                                    <li><a href="<?= home_url(); ?>/nuestros-productos">Nuestros productos</a></li>
                                    <li><a href="<?= home_url(); ?>/locales">Encuentra tu tienda</a></li>
                                    <li><a href="<?= home_url(); ?>/contacto">Contacto</a></li>
                                    <li><a target="_blank" href="https://www.liqui.cl/">Tienda online</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="site-footer__nav">
                            <nav>
                                <ul class="list-links-footer">
                                    <li><a href="<?= home_url(); ?>/quienes-somos">Quienes somos</a></li>
                                    <li><a href="<?= home_url(); ?>/rse">RSE</a></li>
                                    <li><a href="<?= home_url(); ?>/bases-legales">Bases legales</a></li>
                                    <li><a href="<?= home_url(); ?>/trabaja-con-nosotros">Trabaja con nosotros</a></li>
                                    <li><a href="<?= home_url(); ?>/politicas-de-privacidad">Políticas de privacidad</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="site-footer__rrss">
                            <nav>
                                <h6 class="">Síguenos</h6>
                                <ul class="">
                                    <li><a href="https://www.instagram.com/liquimax_cl/" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <rect width="24" height="24" rx="12" fill="#D61326" />
                                                <g clip-path="url(#clip0_2020_462)">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM12 14.6667C13.4727 14.6667 14.6667 13.4727 14.6667 12C14.6667 10.5272 13.4727 9.33333 12 9.33333C10.5272 9.33333 9.33333 10.5272 9.33333 12C9.33333 13.4727 10.5272 14.6667 12 14.6667Z" fill="white" />
                                                    <path d="M16 7.33331C15.6318 7.33331 15.3333 7.63179 15.3333 7.99998C15.3333 8.36817 15.6318 8.66665 16 8.66665C16.3682 8.66665 16.6666 8.36817 16.6666 7.99998C16.6666 7.63179 16.3682 7.33331 16 7.33331Z" fill="white" />
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.10266 6.85073C4.66669 7.70637 4.66669 8.82648 4.66669 11.0667V12.9334C4.66669 15.1736 4.66669 16.2937 5.10266 17.1493C5.48615 17.902 6.09807 18.5139 6.85073 18.8974C7.70637 19.3334 8.82648 19.3334 11.0667 19.3334H12.9334C15.1736 19.3334 16.2937 19.3334 17.1493 18.8974C17.902 18.5139 18.5139 17.902 18.8974 17.1493C19.3334 16.2937 19.3334 15.1736 19.3334 12.9334V11.0667C19.3334 8.82648 19.3334 7.70637 18.8974 6.85073C18.5139 6.09807 17.902 5.48615 17.1493 5.10266C16.2937 4.66669 15.1736 4.66669 12.9334 4.66669H11.0667C8.82648 4.66669 7.70637 4.66669 6.85073 5.10266C6.09807 5.48615 5.48615 6.09807 5.10266 6.85073ZM12.9334 6.00002H11.0667C9.92458 6.00002 9.14819 6.00106 8.54807 6.05009C7.96351 6.09785 7.66458 6.18441 7.45605 6.29067C6.95428 6.54633 6.54633 6.95428 6.29067 7.45605C6.18441 7.66458 6.09785 7.96351 6.05009 8.54807C6.00106 9.14819 6.00002 9.92458 6.00002 11.0667V12.9334C6.00002 14.0755 6.00106 14.8518 6.05009 15.452C6.09785 16.0366 6.18441 16.3355 6.29067 16.544C6.54633 17.0458 6.95428 17.4537 7.45605 17.7094C7.66458 17.8156 7.96351 17.9022 8.54807 17.95C9.14819 17.999 9.92458 18 11.0667 18H12.9334C14.0755 18 14.8518 17.999 15.452 17.95C16.0366 17.9022 16.3355 17.8156 16.544 17.7094C17.0458 17.4537 17.4537 17.0458 17.7094 16.544C17.8156 16.3355 17.9022 16.0366 17.95 15.452C17.999 14.8518 18 14.0755 18 12.9334V11.0667C18 9.92458 17.999 9.14819 17.95 8.54807C17.9022 7.96351 17.8156 7.66458 17.7094 7.45605C17.4537 6.95428 17.0458 6.54633 16.544 6.29067C16.3355 6.18441 16.0366 6.09785 15.452 6.05009C14.8518 6.00106 14.0755 6.00002 12.9334 6.00002Z" fill="white" />
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_2020_462">
                                                        <rect width="16" height="16" fill="white" transform="translate(4 4)" />
                                                    </clipPath>
                                                </defs>
                                            </svg>
                                            Instagram</a>
                                    </li>
                                    <li><a href="https://www.facebook.com/liquimaxChile" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <rect width="24" height="24" rx="12" fill="#D61326" />
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M17.8182 4C19.0232 4 20 4.97684 20 6.18182V17.8182C20 19.0232 19.0232 20 17.8182 20H6.18182C4.97684 20 4 19.0232 4 17.8182V6.18182C4 4.97684 4.97684 4 6.18182 4H17.8182ZM17.8182 5.45455C18.2199 5.45455 18.5455 5.78016 18.5455 6.18182V17.8182C18.5455 18.2199 18.2199 18.5455 17.8182 18.5455H14.1818V13.4545H15.6918C16.0048 13.4545 16.2827 13.2542 16.3817 12.9572L16.7039 11.9906C16.8217 11.6374 16.5588 11.2727 16.1865 11.2727H14.1818V9.81812C14.1818 9.45449 14.5455 9.09085 14.9091 9.09085H16.3636C16.7653 9.09085 17.0909 8.76524 17.0909 8.36358V7.86468C17.0909 7.62975 16.9409 7.41913 16.7137 7.35918C15.7604 7.1076 14.9091 7.1076 14.9091 7.1076C13.0909 7.1076 12 8.36358 12 9.45449V11.2727H10.5455C10.1438 11.2727 9.81818 11.5983 9.81818 11.9999V12.7272C9.81818 13.1289 10.1438 13.4545 10.5455 13.4545H12V18.5455H6.18182C5.78016 18.5455 5.45455 18.2199 5.45455 17.8182V6.18182C5.45455 5.78016 5.78016 5.45455 6.18182 5.45455H17.8182Z" fill="white" />
                                            </svg>
                                            Facebook</a>
                                    </li>
                                    <li>
                                        <a class="" href="https://grupolagos.buk.cl/cul_partner_complaint/tickets/new" target="_blank"><img alt="Canal de denuncias" style="width: 150px;" src="https://liquimax.cl/wp-content/uploads/2024/11/denuncias2.png"></a>
                                    </li>
                                </ul>
                            </nav>

                        </div>
                    </div>
                    <div class="col-md-2">
                        <a class="site-footer__logo--liqui" href="https://www.liqui.cl/?utm_source=liquimax_cl&utm_medium=banner_footer&utm_campaign=banner_footer_liquimax_cl" target="_blank"><img src="https://liquimax.cl/wp-content/uploads/2024/08/liqui-home.png" alt="Liqui solo RM" /></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    <script>
        var swiper = new Swiper(".swiperimages", {
            slidesPerView: 1,
            loop: true,
            autoplay: true,
            spaceBetween: 24,
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
            navigation: {
                nextEl: '.brands-swiper-button-next',
                prevEl: '.brands-swiper-button-prev',
            },
            // Responsive breakpoints
            breakpoints: {
                // when window width is >= 320px
                320: {
                    slidesPerView: 1,
                },
                // when window width is >= 480px
                480: {
                    slidesPerView: 1,
                },
                // when window width is >= 640px
                640: {
                    slidesPerView: 1,
                },
            },
        });
        var swiper = new Swiper(".brands", {
            slidesPerView: 3,
            loop: true,
            autoplay: true,
            spaceBetween: 24,
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
            navigation: {
                nextEl: '.brands-swiper-button-next',
                prevEl: '.brands-swiper-button-prev',
            },
            // Responsive breakpoints
            breakpoints: {
                // when window width is >= 320px
                320: {
                    slidesPerView: 3,
                },
                // when window width is >= 480px
                480: {
                    slidesPerView: 3,
                },
                // when window width is >= 640px
                640: {
                    slidesPerView: 5,
                },
            },
        });
    </script>

    <script>
        /* Set the width of the side navigation to 250px */
        function openNav() {
            document.getElementById("mySidenav").style.width = "100%";
        }

        /* Set the width of the side navigation to 0 */
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        }
    </script>





    <!-- Footer -->

    <script src="<?= get_template_directory_uri() ?>/assets/js/jquery.min.js"></script>

    <script src="<?= get_template_directory_uri() ?>/assets/js/popper.js"></script>
    <script src="<?= get_template_directory_uri() ?>/assets/js/bootstrap.min.js"></script>
    <script src="<?= get_template_directory_uri() ?>/assets/js/owl.carousel.min.js"></script>

    <script src="<?= get_template_directory_uri() ?>/assets/js/selectize.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB417f7lmbdQ8MC_o7lDDbomchBHUl37_A&libraries=places&callback=initAutocomplete" async defer></script>
    <script>
        function showLocation(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;
            localStorage.setItem("latitude", latitude);
            localStorage.setItem("longitude", longitude);
        }

        function errorHandler(err) {
            if (err.code == 1) {
                //alert("Error: Access is denied!");
            } else if (err.code == 2) {
                //alert("Error: Position is unavailable!");
            }
        }

        function getLocation() {

            if (navigator.geolocation) {

                // timeout at 60000 milliseconds (60 seconds)
                var options = {
                    timeout: 60000
                };
                navigator.geolocation.getCurrentPosition(showLocation, errorHandler, options);
            } else {
                //alert("Sorry, browser does not support geolocation!");
            }
        }

        // Inicializa el mapa de Google Maps y coloca los marcadores de locales en él.

        function initAutocomplete(position) {
            // Obtiene la ubicación del usuario para centrar el mapa.
            getLocation();
            // Inicializa variables para manejar los marcadores y la información de los locales.
            var gmarkers = [];
            var markers = [];
            var imgWaze = "<?= get_template_directory_uri() ?>/assets/img/waze.png"
            var imgGoogle = "<?= get_template_directory_uri() ?>/assets/img/google.png"

            // genera un array de JavaScript con información de los locales.
            markers = [
                <?php
                if (!empty($_POST)) {
                    $args = array(
                        'post_type'   => 'locales',
                        's'           => $_POST['search_local'],
                        'post_status' => 'publish',
                        'meta_key'    => 'orden_region',
                        'orderby'    => 'meta_value_num',
                        'order'       => 'ASC',
                        'posts_per_page' => -1
                    );
                } else {
                    $args = array(
                        'post_type' => 'locales',
                        'post_status' => 'publish',
                        'meta_key'    => 'orden_region',
                        'orderby'    => 'meta_value_num',
                        'order'       => 'ASC',
                        'posts_per_page' => -1
                    );
                }
                $loop = new WP_Query($args);
                if ($loop->have_posts()) {
                    while ($loop->have_posts()) : $loop->the_post();
                        if (have_rows('horario_invierno')) :
                            while (have_rows('horario_invierno')) : the_row();
                                // vars
                                $lunes_a_viernes = get_sub_field('lunes_a_viernes');
                                $sabado = get_sub_field('sabado');

                                // $horario_invierno = $lunes_a_viernes. ' - ' .$sabado;
                                $horario_invierno = $lunes_a_viernes;
                            endwhile;
                        else :
                            $horario_invierno = '';
                        endif;
                        if (have_rows('horario_verano')) :
                            while (have_rows('horario_verano')) : the_row();
                                // vars
                                $lunes_a_viernes = get_sub_field('lunes_a_viernes');
                                $sabado = get_sub_field('sabado');

                                // $horario_invierno = $lunes_a_viernes. ' - ' .$sabado;
                                $horario_invierno = $lunes_a_viernes;
                            endwhile;
                        else :
                            $horario_verano = '';
                        endif; ?>['<?php the_id(); ?>', '<?php the_title(); ?>', <?php the_field('lat') ?>,
                            <?php the_field('long') ?>, '<?= $horario_invierno ?>', '<?= $horario_verano ?>',
                            '<?= get_the_post_thumbnail_url(get_the_ID(), 'full'); ?>', ],
                <?php endwhile;
                }
                wp_reset_query(); ?>
            ];

            // Define la ubicación central del mapa basándose en la ubicación del usuario.
            var latlng = new google.maps.LatLng(localStorage.getItem("latitude"), localStorage.getItem("longitude"));

            // Configuración inicial del mapa.
            var myOptions = {
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                mapTypeControl: false,
                center: latlng,

            };

            // Crea el mapa y lo coloca en el elemento con id "map".
            var map = new google.maps.Map(document.getElementById("map"), myOptions);
            var image = new google.maps.MarkerImage('img/marker.png',
                new google.maps.Size(65, 32),
                new google.maps.Point(0, 0),
                new google.maps.Point(18, 42));

            // Variables para manejar la información de los marcadores.
            var infowindow = new google.maps.InfoWindow();
            var marker, i;
            var bounds = new google.maps.LatLngBounds();

            // Bucle para recorrer cada local y colocar un marcador en el mapa.
            for (i = 0; i < markers.length; i++) {
                var pos = new google.maps.LatLng(markers[i][2], markers[i][3]);
                /* var content = `
                  <div class="content-info-marker">
                    <img src="${markers[i][6]}" alt="" class="img-local">
                    <h3 class="title-local">${markers[i][1]}</h3>
                    <p><b>Horario Invierno</b></p>
                    <p>${markers[i][4]}</p>
                    <p><b>Horario Verano</b></p>
                    <p>${markers[i][5]}</p>
                    
                  </div>
                `; */
                var content = `
                      <div class="content-info-marker">
                        <img src="${markers[i][6]}" alt="" class="img-local">
                        <h3 class="title-local">${markers[i][1]}</h3>
                        <p><b>Horario</b></p>
                        <p>${markers[i][4]}</p>
                      </div>
                    `;
                bounds.extend(pos);
                marker = new google.maps.Marker({
                    position: pos,
                    map: map
                });
                gmarkers.push(marker);
                google.maps.event.addListener(marker, 'click', (function(marker, content) {
                    return function() {
                        infowindow.setContent(content);
                        infowindow.open(map, marker);
                    }
                })(marker, content));
            }
            // Ajusta la vista del mapa para que todos los marcadores sean visibles.
            map.setZoom(11);
            map.fitBounds(bounds);

            // Eventos para manejar el clic en la dirección de un local en la lista y centrar el mapa en él.
            jQuery('.link-direccion, .title-local').click(function() {
                var id = jQuery(this).attr("data-id");
                google.maps.event.trigger(gmarkers[id], 'click');
                map.setZoom(11);
                if ($(window).width() < 768) {
                    $('html, body').animate({
                        scrollTop: $('#map').offset().top - 50
                    }, 500);
                }
            });
            // funcionalidad de autocompletar direcciones.

            /*Autocomplete*/
            /*var options = {
              componentRestrictions: {country: "cl"}
             };
            var input = document.getElementById('searchTextField');
            var autocomplete = new google.maps.places.Autocomplete(input, options);
            console.log(autocomplete);
            google.maps.event.addListener(autocomplete, 'place_changed', function () {
                var place = autocomplete.getPlace();
                if (place.geometry.viewport) {
                map.initialZoom = true;
                map.fitBounds(place.geometry.viewport);
              } else {
                map.initialZoom = true;
                map.setCenter(place.geometry.location);
               
              }
            
            });*/

        }
        var RegionesYcomunas2 = {
            "regiones": [
                <?php
                $regiones_comunas = array();
                $args = array(
                    'post_type' => 'locales',
                    'post_status' => 'publish',
                    'meta_key'    => 'orden_region',
                    'orderby'    => 'meta_value_num',
                    'order'       => 'ASC',
                    'posts_per_page' => -1
                );
                $loop = new WP_Query($args);
                if ($loop->have_posts()) {
                    $i = 0;
                    $regiones_item = '';
                    while ($loop->have_posts()) : $loop->the_post();
                        $regiones_array = get_field('region');

                        if ($regiones_item != $regiones_array) : ?> {
                                "NombreRegion": "<?= $regiones_array ?>",
                                <?php
                                $args2 = array(
                                    'post_type' => 'locales',
                                    'post_status' => 'publish',
                                    'posts_per_page' => -1
                                );
                                $loop2 = new WP_Query($args);
                                if ($loop2->have_posts()) { ?> "comunas": [
                                        <?php
                                        while ($loop2->have_posts()) : $loop2->the_post();
                                            $regiones_comunas_array = get_field('region');
                                            $comunas_array = get_field('comuna');
                                            if ($regiones_comunas_array == $regiones_array) : ?> "<?= $comunas_array ?>",
                                            <?php endif; ?>
                                        <?php endwhile; ?>
                                    ]
                                <?php }; ?>
                            },
                <?php
                            $regiones_item =  $regiones_array;
                        endif;
                        $i++;
                    endwhile;
                }
                wp_reset_query();
                ?>
            ]
        }

        console.log(RegionesYcomunas2);

        var iRegion = 0;
        var htmlRegion2 = '<option value="sin-region">Seleccione región</option><option value="sin-region">--</option>';

        $.each(RegionesYcomunas2.regiones, function() {
            htmlRegion2 = htmlRegion2 + '<option value="' + RegionesYcomunas2.regiones[iRegion].NombreRegion + '">' +
                RegionesYcomunas2.regiones[iRegion].NombreRegion + '</option>';
            iRegion++;
        });

        $('#select_region').html(htmlRegion2);

        $('#select_region').change(function() {
            var iRegiones = 0;
            var valorRegion = $(this).val();
            var htmlComuna = '<div class="option" data-selectable="" data-value="sin-comuna">Seleccione comuna</div>';
            var comunas = [];
            $.each(RegionesYcomunas2.regiones, function() {
                if (RegionesYcomunas2.regiones[iRegiones].NombreRegion == valorRegion) {
                    var iComunas = 0;
                    $.each(RegionesYcomunas2.regiones[iRegiones].comunas, function() {
                        comunas.push({
                            id: RegionesYcomunas2.regiones[iRegiones].comunas[iComunas],
                            title: RegionesYcomunas2.regiones[iRegiones].comunas[iComunas]
                        });
                        iComunas++;
                    });
                }
                iRegiones++;
            });
            console.log(comunas);
            $('#select_comuna').selectize()[0].selectize.destroy();
            $('#select_comuna').selectize({
                maxItems: null,
                valueField: 'id',
                labelField: 'title',
                searchField: 'title',
                options: comunas,
                create: false
            });
        });
    </script>
    <script>
        // Almacena la URL de la plantilla de WordPress en una variable para su uso en los scripts.

        var templateUrl = '<?= get_template_directory_uri(); ?>';
    </script>
    <script src="<?= get_template_directory_uri() ?>/assets/js/main.js"></script>



    <script>
        $(document).ready(function() {
            // Inicialización del mapa al cargar la página.
            if ($('#map').length) {
                initAutocomplete();
            }
        });

        $(document).ajaxComplete(function(event, xhr, settings) {
            // Re-inicialización del mapa tras la carga de contenido vía AJAX.
            if (settings.url.indexOf('locales') > -1 && $('#map').length) {
                initAutocomplete();
            }
        });
    </script>



    </body>

    </html>